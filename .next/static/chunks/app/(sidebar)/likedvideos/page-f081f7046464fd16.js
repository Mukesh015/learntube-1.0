(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5998],{86700:function(e,t,a){Promise.resolve().then(a.bind(a,53771))},53771:function(e,t,a){"use strict";a.r(t);var n=a(89483),o=a(57437),s=a(2265),i=a(10282),r=a(82386),l=a(17916),d=a(56452),c=a(21432),u=a(56884),m=a(44092),f=a(19593),h=a.n(f),b=a(16463);a(44193);var v=a(89857);function p(){let e=(0,n._)(["\n\nquery likedVideos($email: String) {\n    getLikedVideos (email: $email){\n        channelLogo\n        courseFees\n        courseId\n        videoId\n        videoPublishedAt\n        videoThumbnail\n        videoTitle\n        videoViews\n      }\n  }\n"]);return p=function(){return e},e}let g=(0,c.Ps)(p());t.default=()=>{let{isDarkMode:e}=(0,m.v)(),t=(0,b.useRouter)(),[a,n]=s.useState(!1),[c,f]=(0,s.useState)(""),[p,x]=(0,s.useState)([]),[j]=(0,d.F_)(l.I8),{loading:y,error:N,data:w}=(0,u.a)(g,{variables:{email:c}}),k=e=>{let t=parseInt(e,10);if(isNaN(t))return"Invalid timestamp";let a=new Date,n=new Date(t),o=Math.floor((a.getTime()-n.getTime())/1e3);return o<0?"Future timestamp":o<60?"".concat(o," seconds ago"):o<3600?"".concat(Math.floor(o/60)," minutes ago"):o<86400?"".concat(Math.floor(o/3600)," hours ago"):"".concat(Math.floor(o/86400)," days ago")},T=(0,s.useCallback)(async(e,a,n)=>{try{let t=await fetch("".concat("http://localhost:9063","/features/addtohistory"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,videoId:e})}),a=await t.json();console.log("Video added to history:",a)}catch(e){console.error("Failed to add video to history:",e)}null===a&&t.push("/video/".concat(e));try{let a=await fetch("".concat("http://localhost:9063","/api/isenroll"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,courseId:n})}),o=await a.json();!0===o.isEnrolled?t.push("/video/".concat(e)):t.push("/payment/".concat(n))}catch(e){console.error("Failed to fetch enrollment status:",e)}},[c]);return(0,s.useEffect)(()=>{j&&f(j.email||""),w&&c&&(x(w.getLikedVideos),console.log(w.getLikedVideos))},[f,w,j,x]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h(),{}),(0,o.jsx)(i.default,{query:""}),(0,o.jsx)(r.default,{}),y?(0,o.jsx)("div",{className:"pt-52 pl-72 pb-10  min-h-screen ".concat(e?"bg-white":"bg-black"),children:[...Array(6)].map((e,t)=>(0,o.jsxs)("div",{className:"flex mb-5",children:[(0,o.jsx)(v.X,{isLoaded:a,className:"w-72 mb-5 rounded-lg",children:(0,o.jsx)("div",{className:"h-36 w-full rounded-lg bg-gray-500"})}),(0,o.jsxs)("div",{className:"w-full flex items-center gap-3 ml-7",children:[(0,o.jsx)("div",{children:(0,o.jsx)(v.X,{className:"flex rounded-full w-12 h-12"})}),(0,o.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,o.jsx)(v.X,{className:"h-3 w-3/5 rounded-lg"}),(0,o.jsx)(v.X,{className:"h-3 w-4/5 rounded-lg"})]})]})]},t))}):(0,o.jsx)("div",{className:"".concat(e?"bg-white text-black":"bg-black text-white"),children:(0,o.jsx)("div",{className:"ml-80 pt-20 pb-10",children:(0,o.jsxs)("div",{id:"description-container",className:"",style:{marginTop:"40px"},children:[(0,o.jsx)("p",{className:"text-3xl font-bold text-amber-600 mb-7",children:"Liked videos"}),p.map((e,t)=>(0,o.jsxs)("div",{id:"video-content",className:"flex mb-10",children:[(0,o.jsx)("img",{className:"transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-150 rounded-md",height:200,width:200,src:e.videoThumbnail,alt:"",onClick:()=>{T(e.videoId,e.courseFees,e.courseId)}}),(0,o.jsxs)("div",{className:"flex mt-10 ml-5 justify-center mr-10",children:[(0,o.jsx)("div",{children:(0,o.jsx)("img",{height:30,width:30,className:"rounded-full m-1",src:e.channelLogo,alt:""})}),(0,o.jsxs)("div",{className:"ml-3",children:[(0,o.jsx)("h1",{className:"font-bold",children:e.videoTitle})," ",(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:[e.videoViews," views - ",k(e.videoPublishedAt)," "]})]})]})]},t))]})})})]})}},44193:function(){},89857:function(e,t,a){"use strict";a.d(t,{X:function(){return u}});var n=a(4984),o=(0,a(9576).tv)({slots:{base:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2","data-[loaded=true]:!bg-transparent","data-[loaded=true]:before:opacity-0 data-[loaded=true]:before:animate-none","data-[loaded=true]:after:opacity-0"],content:["opacity-0","group-data-[loaded=true]:opacity-100"]},variants:{disableAnimation:{true:{base:"before:animate-none before:transition-none after:transition-none",content:"transition-none"},false:{base:"transition-background !duration-300 before:transition-opacity before:!duration-300",content:"transition-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{disableAnimation:!1}}),s=a(36222),i=a(65263),r=a(53640),l=a(2265),d=a(57437),c=(0,n.Gp)((e,t)=>{let{Component:a,children:c,getSkeletonProps:u,getContentProps:m}=function(e){let[t,a]=(0,n.oe)(e,o.variantKeys),{as:d,children:c,isLoaded:u=!1,className:m,classNames:f,...h}=t,b=(0,l.useMemo)(()=>o({...a}),[(0,s.Xx)(a),c]),v=(0,i.W)(null==f?void 0:f.base,m);return{Component:d||"div",children:c,slots:b,classNames:f,getSkeletonProps:(e={})=>({"data-loaded":(0,r.PB)(u),className:b.base({class:(0,i.W)(v,null==e?void 0:e.className)}),...h}),getContentProps:(e={})=>({className:b.content({class:(0,i.W)(null==f?void 0:f.content,null==e?void 0:e.className)})})}}({...e});return(0,d.jsx)(a,{ref:t,...u(),children:(0,d.jsx)("div",{...m(),children:c})})});c.displayName="NextUI.Skeleton";var u=c}},function(e){e.O(0,[8405,4050,4705,5390,3109,6486,6452,9593,7486,4049,6323,9898,4241,809,3393,7084,282,2386,2971,7023,1744],function(){return e(e.s=86700)}),_N_E=e.O()}]);